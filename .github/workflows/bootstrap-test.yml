name: 'bootstrap-test'

on:
  pull_request
  
jobs:
  test-bootstrap-zsh:
    name: zsh-integration
    runs-on: ubuntu-latest
    steps:
      - name: Check out code
        uses: actions/checkout@v3
      - name: Build docker image with bootstrap script
        run: docker build -t bootstrap-script-test-zsh -f ./boostrap-zsh-test.Dockerfile .
      - name: Run bats-zsh test via devbox
        run: docker run bootstrap-script-test-zsh
  test-bootstrap-bash:
    name: bash-integration
    runs-on: ubuntu-latest
    steps:
      - name: Check out code
        uses: actions/checkout@v3
      - name: Build docker image with bootstrap script
        run: docker build -t bootstrap-script-test-bash -f ./boostrap-bash-test.Dockerfile .
      - name: Run bats-bash test via devbox
        run: docker run bootstrap-script-test-bash
  test-bootstrap-fish:
    name: fish-integration
    runs-on: ubuntu-latest
    steps:
      - name: Check out code
        uses: actions/checkout@v3
      - name: Build docker image with bootstrap script
        run: docker build -t bootstrap-script-test-fish -f ./boostrap-fish-test.Dockerfile .
      - name: Run bats-fish test via devbox
        run: docker run bootstrap-script-test-fish
